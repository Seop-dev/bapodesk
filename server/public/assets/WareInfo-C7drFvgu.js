import{_ as $,a as F}from"./UiParentCard.vue_vue_type_script_setup_true_lang-BW8k9qJX.js";import{O as s,a7 as W,c as U,o as M,w as t,a as e,W as j,S as q,e as u,t as G,Z as A,f as d,T as P,A as b,a1 as z,G as Y,Y as L,_ as Q,P as Z,$ as T,q as H,d as V,V as B,a0 as S,F as J}from"./index-BkOgXO0r.js";import{B as E}from"./main-CfRLyuEJ.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={__name:"WrModal",props:{title:String,rowData:Array,colDefs:Array},emits:["confirm"],setup(_,{expose:h,emit:n}){const c=z,f=s(!1),p=_,w=s([]),C=s([]),m=s(null);W(()=>p.rowData,r=>{w.value=r},{immediate:!0}),W(()=>p.colDefs,r=>{C.value=r},{immediate:!0});const y=()=>{f.value=!0},x=()=>{f.value=!1},v=()=>{const r={};w.value.push(r)};function D(r){m.value=r.data,console.log(m.value)}const k=n,R=()=>{m.value&&k("confirm",m.value),x()};return h({open:y}),(r,o)=>(M(),U(L,{modelValue:f.value,"onUpdate:modelValue":o[0]||(o[0]=N=>f.value=N),"max-width":"800"},{default:t(()=>[e(j,null,{default:t(()=>[e(q,{class:"headline"},{default:t(()=>[u(G(_.title),1)]),_:1}),e(A,{class:"justify-end"},{default:t(()=>[e(d,{color:"darkText",variant:"flat",class:"mr-1",onClick:v},{default:t(()=>o[1]||(o[1]=[u("추가")])),_:1}),e(d,{color:"primary",variant:"flat",class:"mr-1",onClick:r.update},{default:t(()=>o[2]||(o[2]=[u("저장")])),_:1},8,["onClick"]),e(d,{color:"error",variant:"flat",class:"mr-4",onClick:r.resetForm},{default:t(()=>o[3]||(o[3]=[u("삭제")])),_:1},8,["onClick"])]),_:1}),e(P,null,{default:t(()=>[e(b(E),{rowData:w.value,columnDefs:C.value,theme:b(c),rowSelection:"single",onRowClicked:D,style:{height:"400px",width:"100%"},pagination:!0,"pagination-page-size":10},null,8,["rowData","columnDefs","theme"])]),_:1}),e(A,null,{default:t(()=>[e(Y),e(d,{color:"primary",text:"",onClick:R},{default:t(()=>o[4]||(o[4]=[u("확인")])),_:1}),e(d,{color:"error",text:"",onClick:x},{default:t(()=>o[5]||(o[5]=[u("취소")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},ee={class:"d-flex align-center mb-4"},le={class:"main-container"},ae={class:"list-container"},te={__name:"WareInfo",setup(_){const h=z;Q(()=>{N()});const n=s({wrNo:""}),c=s([]),f=s([{headerCheckboxSelection:!0,checkboxSelection:!0,width:50},{field:"구역번호",flex:1,editable:!0},{field:"섹션코드",flex:1,editable:!0},{field:"품목코드",flex:1,editable:!0},{field:"품목유형",flex:1,editable:!0}]),p=s({title:"창고 관리"}),w=Z([{title:"물류",disabled:!0,href:"#"},{title:"창고 관리",disabled:!1,href:"#"}]),C=a=>{console.log(a.value),console.log(c.value)},m=s(null),y=a=>{m.value=a.api,console.log(m.value)},x=()=>{const a={};c.value.unshift(a)},v=s(null),D=s(""),k=s([]),R=s([]),r=[{headerCheckboxSelection:!0,checkboxSelection:!0,flex:.5},{field:"창고번호",headerName:"창고번호",flex:1,editable:!0},{field:"창고명",headerName:"창고명",flex:1,editable:!0},{field:"창고주소",headerName:"창고주소",flex:3,editable:!0}],o=s([]),N=async()=>{const a=await T.get("http://localhost:3000/wrModalSelect");o.value=a.data.map(l=>({창고번호:l.WR_NO,창고명:l.WR_NAME,창고주소:l.WR_ADDR}))},I=(a,l,i)=>{D.value=a,k.value=l,R.value=i,v.value&&v.value.open()},O=async a=>{console.log(a),n.value.wrNo=a.창고번호,n.value.wrName=a.창고명,n.value.wrAddr=a.창고주소;const l={WR_NO:n.value.wrNo},i=await T.post("http://localhost:3000/wrSelect",l);c.value=i.data.map(g=>({구역번호:g.WR_AREANO,섹션코드:g.WR_SECTION,품목코드:g.WR_PRD_ID,품목유형:g.WR_TYPE}))};return(a,l)=>(M(),H(J,null,[e($,{title:p.value.title,breadcrumbs:w.value},null,8,["title","breadcrumbs"]),e(F,{title:"창고 조회"},{default:t(()=>[V("div",null,[e(B,{justify:"start"},{default:t(()=>[e(d,{color:"warning",class:"ml-4",onClick:l[0]||(l[0]=i=>I("창고 목록",o.value,r)),style:{"margin-bottom":"2rem"}},{default:t(()=>l[4]||(l[4]=[u("창고 등록 및 조회 ")])),_:1}),e(X,{ref_key:"modalRef",ref:v,title:D.value,rowData:k.value,colDefs:R.value,onConfirm:O},null,8,["title","rowData","colDefs"])]),_:1})]),V("div",ee,[e(S,{label:"창고 번호",modelValue:n.value.wrNo,"onUpdate:modelValue":l[1]||(l[1]=i=>n.value.wrNo=i),"hide-details":"",class:"mr-2",style:{"max-width":"300px"}},null,8,["modelValue"]),e(S,{label:"창고 이름",modelValue:n.value.wrName,"onUpdate:modelValue":l[2]||(l[2]=i=>n.value.wrName=i),"hide-details":"",class:"mr-2",style:{"max-width":"300px"}},null,8,["modelValue"]),e(S,{label:"창고 주소",modelValue:n.value.wrAddr,"onUpdate:modelValue":l[3]||(l[3]=i=>n.value.wrAddr=i),"hide-details":"",class:"mr-2",style:{"max-width":"600px"}},null,8,["modelValue"]),e(B,{justify:"end",class:"mr-3"},{default:t(()=>[e(d,{color:"darkText",class:"mr-1",onClick:x},{default:t(()=>l[5]||(l[5]=[u("추가")])),_:1}),e(d,{color:"primary",class:"mr-1",onClick:a.update},{default:t(()=>l[6]||(l[6]=[u("저장")])),_:1},8,["onClick"]),e(d,{color:"error",class:"mr-1",onClick:a.delRow},{default:t(()=>l[7]||(l[7]=[u("삭제")])),_:1},8,["onClick"])]),_:1})]),V("div",le,[V("div",ae,[e(b(E),{rowData:c.value,columnDefs:f.value,theme:b(h),style:{height:"510px",width:"100%"},onCellValueChanged:C,rowSelection:"multiple",rowMultiSelectWithClick:!0,onRowClicked:a.onRowClicked,onGridReady:y,pagination:!0,"pagination-page-size":20},null,8,["rowData","columnDefs","theme","onRowClicked"])])])]),_:1})],64))}},ie=K(te,[["__scopeId","data-v-160f1c94"]]);export{ie as default};
