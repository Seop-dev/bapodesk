import{aZ as S,a_ as x,O as a,P as v,_ as m,b3 as z,q as C,o as T,a as r,w as i,d as o,V,b as q,f as F,e as A,A as u,a1 as M,F as O,$ as P}from"./index-BkOgXO0r.js";import{B as c}from"./main-CfRLyuEJ.js";import{_ as R,a as B}from"./UiParentCard.vue_vue_type_script_setup_true_lang-BW8k9qJX.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={__name:"ProductListDetail",setup(Q){S.registerModules([x]);const n=M,l=z(),b=a({title:"선택한 행의 검사성적서"}),h=v([{title:"품질",disabled:!0,href:"#"},{title:"원자재검수조회",disabled:!1,href:"#"}]);a([{certId:"",prdCode:"",prdName:"",chkedDate:"",totalQty:0,prdType:"",writer:""}]);const y=a([{headerName:"검사번호",field:"certId",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!1},{headerName:"제품코드",field:"prdCode",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!1},{headerName:"제품명",field:"prdName",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!1},{headerName:"제품유형",field:"prdType",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!0},{headerName:"총수량",field:"totalQty",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!0,valueParser:g},{headerName:"작성자",field:"writer",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!0},{headerName:"검사완료일자",field:"finished_at",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!0}]),f=a([{certId:"(자동생성)",prdCode:"(자동입력)",prdName:"(자동입력)",prdType:"(자동입력)",totalQty:"(세션사용자)",writer:"(자동입력)",finished_at:"(현재 yyyyMMdd)"}]);function g(t){const e=t.newValue;if(e===""||e===null||e===void 0)return null;const s=Number(e);return Number.isFinite(s)?s:t.oldValue}const w=a([{headerName:"검사명",field:"name",flex:1.2,cellClass:"font-semibold"},{headerName:"허용수치",field:"allowed",flex:1.4,wrapText:!0,autoHeight:!0},{headerName:"수치값",field:"value",flex:1}]),d=a([]),N=async()=>{try{const e=await P.get("http://localhost:3000/qstdlist");e.data&&e.data.length>0?d.value=e.data.map(s=>({stdName:s.STD_NAME,allowedValue:s.ALLOWED_VALUE,val1:s.MEASURED_VALUE})):d.value=[]}catch(t){console.error("데이터 조회 중 오류:",t),d.value=[]}},D=a([]);m(()=>{N()});const p=a({defaultColDef:{resizable:!0,sortable:!0},pagination:!0,paginationAutoPageSize:!0}),_=()=>window.print();return m(()=>{const t=f.value[0];t.inNo=String(l.query.receiptNo||""),t.materialCode=String(l.query.matCode||""),t.materialName=String(l.query.materialName||""),t.totalQty=Number(l.query.totalQty||0),t.inDate=String(l.query.inDate||""),t.user=String(l.query.createdBy||"");const e=new Date;t.doneDate=e.toISOString().slice(0,10)}),(t,e)=>(T(),C(O,null,[r(R,{title:b.value.title,breadcrumbs:h.value},null,8,["title","breadcrumbs"]),r(B,null,{default:i(()=>[r(V,{cols:"auto"},{default:i(()=>[r(q,null,{default:i(()=>[r(F,{color:"warning",class:"btn-pdf",onClick:_},{default:i(()=>e[0]||(e[0]=[A("PDF출력")])),_:1})]),_:1})]),_:1}),e[1]||(e[1]=o("br",null,null,-1)),r(u(c),{rowData:f.value,columnDefs:y.value,gridOptions:p.value,theme:u(n),style:{height:"160px",width:"100%"}},null,8,["rowData","columnDefs","gridOptions","theme"]),e[2]||(e[2]=o("br",null,null,-1)),e[3]||(e[3]=o("div",{class:"section-title"},[o("h3",null,"합격품 성적서")],-1)),r(u(c),{rowData:D.value,columnDefs:w.value,gridOptions:p.value,theme:u(n),style:{height:"260px",width:"100%"}},null,8,["rowData","columnDefs","gridOptions","theme"])]),_:1})],64))}},H=E(L,[["__scopeId","data-v-1b4a429a"]]);export{H as default};
