import{_ as V,a as C}from"./UiParentCard.vue_vue_type_script_setup_true_lang-BW8k9qJX.js";import{O as a,_ as E,P as T,$ as _,q as y,o as I,a as t,w as s,d as r,a0 as h,f as m,e as x,V as k,A as b,a1 as A,F as O}from"./index-BkOgXO0r.js";import{B as P}from"./main-CfRLyuEJ.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"d-flex align-center mb-4"},B={class:"main-container"},L={class:"list-container"},W={__name:"ShipmentSelect",setup(Y){const w=A,u=a(""),c=a("");E(()=>{f()});const i=a([]),D=a([{headerCheckboxSelection:!0,checkboxSelection:!0,width:50},{field:"출하번호",editable:!0,flex:1},{field:"창고번호",flex:1},{field:"LOT번호",flex:1},{field:"제품명",flex:1},{field:"출하수량",flex:1},{field:"운송사",flex:1,editable:!0},{field:"차량번호",flex:1,editable:!0},{field:"출하담당자",flex:1},{field:"출하예정일자",flex:1},{field:"출하일자",flex:1},{field:"출하상태",flex:1,editable:!0,cellStyle:l=>l.value==="대기"?{color:"green",fontWeight:"bold"}:l.value==="출하완료"?{color:"blue",fontWeight:"bold"}:null}]),R=a({title:"출하지시서"}),p=T([{title:"물류",disabled:!0,href:"#"},{title:"출하지시서",disabled:!1,href:"#"}]),S=l=>{console.log(l.value),console.log(i.value)},f=async()=>{const l=await _.get("http://localhost:3000/wrShip");i.value=l.data.map(e=>({출하번호:e.SHIP_NO,창고번호:e.WR_NO,주문번호:e.REQ_ID,납기일자:e.D_DAY?e.D_DAY.substring(0,10):null,LOT번호:e.PRD_LOT,제품명:e.PRD_NAME,출하수량:e.QTY,운송사:e.DELIVERY,차량번호:e.CAR_NO,출하담당자:e.SHIP_WRITER,출하예정일자:e.SHIP_ORDER_DATE?e.SHIP_ORDER_DATE.substring(0,10):null,출하일자:e.SHIP_DATE?e.SHIP_DATE.substring(0,10):null,출하상태:e.SHIP_STATUS}))},n=a(null),g=l=>{n.value=l.api,console.log(n.value)},v=async()=>{const e=n.value.getSelectedRows().map(d=>({DELIVERY:d.운송사,CAR_NO:d.차량번호,SHIP_NO:d.출하번호})),o=await _.post("http://localhost:3000/wrShipUpdate",e);console.log(o),alert("저장완료"),f()};return(l,e)=>(I(),y(O,null,[t(V,{title:R.value.title,breadcrumbs:p.value},null,8,["title","breadcrumbs"]),t(C,{title:"출하지시서 조회"},{default:s(()=>[r("div",H,[t(h,{label:"출하 일자",type:"date",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=o=>u.value=o),"hide-details":"",class:"mr-2",style:{"max-width":"180px"}},null,8,["modelValue"]),t(h,{label:"출하 일자",type:"date",modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o),"hide-details":"",class:"mr-2",style:{"max-width":"180px"}},null,8,["modelValue"]),t(m,{color:"darkText",onClick:l.searchData},{default:s(()=>e[2]||(e[2]=[x("검색")])),_:1},8,["onClick"]),t(k,{justify:"end",class:"mr-3"},{default:s(()=>[t(m,{color:"primary",class:"mr-1",onClick:v},{default:s(()=>e[3]||(e[3]=[x("출하")])),_:1})]),_:1})]),r("div",B,[r("div",L,[t(b(P),{rowData:i.value,columnDefs:D.value,theme:b(w),style:{height:"500px",width:"100%"},onCellValueChanged:S,rowSelection:"multiple",rowMultiSelectWithClick:!0,onRowClicked:l.onRowClicked,onGridReady:g,pagination:!0,"pagination-page-size":"20"},null,8,["rowData","columnDefs","theme","onRowClicked"])])])]),_:1})],64))}},Q=N(W,[["__scopeId","data-v-238b8463"]]);export{Q as default};
